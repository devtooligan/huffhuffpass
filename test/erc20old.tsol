// SPDX-License-Identifier: Unlicense
pragma solidity ^0.8.13;

import "foundry-huff/HuffDeployer.sol";
import "forge-std/Test.sol";
import "forge-std/console.sol";

contract ERC20Test is Test {
    IERC20 public erc20;

    function setUp() public {
        bytes memory firstArg = abi.encode("devtooligan token");
        bytes memory secondArg = abi.encode("dtt");

        erc20 = IERC20(HuffDeployer.deploy_with_args("erc20", bytes.concat(firstArg, secondArg)));
    }

    function test1() public {
        console.log(erc20.name());
        console.log(erc20.totalSupply());
        erc20.mint(address(this), 69e18);
        console.log(erc20.totalSupply());
    }
}

interface IERC20 {
    function totalSupply() external returns (uint);
    function mint(address,uint) external;
    function name() external returns (string memory);
}
